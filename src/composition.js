import{options as n}from"preact";var t,r={},u=n.__r;n.__r=function(n){u&&u(n);var r=t=n.__c,e=!r.__C;e&&r.constructor.__C&&(r.__C={u:[],w:[],e:[],x:{}},r.constructor=r.constructor(function(){return r.props})),r.__C&&!e&&r.__C.w.forEach(function(n){return l(n,r)})};var e=n.diffed;n.diffed=function(n){e&&e(n);var t=n.__c;t&&t.__C&&t.__C.e.forEach(function(n){return l(n,t)})};var c=n.unmount;n.unmount=function(n){c&&c(n);var t=n.__c;t&&t.__C&&(t.__C.e.forEach(m),t.__C.u.forEach(function(n){return n()}))};var f=Symbol("reactive");function i(n){return n.__C=!0,n}function o(n,r,u){var e={value:u};Object.defineProperty(e,f,{get:function(){return this.value}});var c={src:n,cb:r,vr:e};return l(c,t),t.__C.w.push(c),e}function a(n,r){t.__C.e.push({src:n,cb:r})}function v(n){t.__C.e.push({cb:n})}function b(n){t.__C.u.push(n)}function s(n,r){var u=t;u.__C.c||(u.__C.c={},u.getChildContext=function(){return u.__C.c}),u.__C.c["__sC_"+n]={__c:u,__v:r}}function j(n,u){var e=t,c=e.context["__sC_"+n];if(!c)return u;var f=c.__v;return O(f)&&c.__c.__C.w.push({src:f,cb:function(){return e.setState(r)}}),f}function p(n){var u,e=n,c=t,i={get:function(){return e},set:function(n){e=n,c.setState(r)}};return Object.defineProperties({},Object.keys(n).reduce(function(n,t){var u;return Object.assign(n,((u={})[t]={enumerable:!0,get:function(){return e[t]},set:function(n){n!==e[t]&&((e=Object.assign({},e))[t]=n,c.setState(r))}},u))},((u={})[f]=i,u.$value=i,u)))}function _(n){var u,e=t;function c(){return n}return Object.defineProperties({},((u={})[f]={get:c},u.value={get:c,set:function(t){n!==t&&(n=t,e.setState(r))},enumerable:!0},u))}function y(n){return O(n)?n[f]:n}function O(n){return"object"==typeof n&&!!n&&f in n}function l(n,t,u){if(n.src||!n.cb){var e,c=Array.isArray(n.src),f=c?n.src.reduce(function(n,r){return n.concat(g(r,t))},[]):g(n.src,t);if(c?function(n,t){return!n||t.some(function(t,r){return t!==n[r]})}(n.args,f):n.args!==f){m(n);var i=n.cb?n.cb(f,n.args,function(t){return n.cl=t}):f;n.args=f,n.vr&&(!(e=i)||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.then?n.vr.value=i:i.then(function(u){n.vr.value=u,t.setState(r)}))}}else n.args||(n.cb(),n.args=[])}function m(n){n.cl&&(n.cl(),n.cl=void 0)}function g(n,t){if(n){if("function"==typeof n)return n(t.props);if(n.Provider)return function(n,t){var r=n.__c,u=t.context[r];return u&&!t.__C.x[r]&&(u.sub(t),t.__C.x[r]=n),u?u.props.value:n.__p}(n,t);if(O(n))return n[f];if((r=n)&&r.constructor===Object&&"current"in n)return n.current}var r;return n}export{i as createComponent,o as watch,a as effect,v as onMounted,b as onUnmounted,s as provide,j as inject,p as reactive,_ as ref,y as unwrap,O as isReactive};
